<h2 mat-dialog-title>User Administration</h2>

<mat-dialog-content>
  <form class="form-group" [formGroup]="clientForm" name="clientForm">
    <div fxLayout="column" fxLayoutGap="15px">
      <mat-form-field fxFlex>
        <mat-label> First Name </mat-label>
        <input matInput type="text" formControlName="name" class="form-control" mdbInputDirective>
        <mat-error *ngIf="clientForm.get('name').hasError('required') && clientForm.get('name').touched">
          Please provide an name !
        </mat-error>
        <mat-error class="has-error" *ngIf="clientForm.get('name').hasError('minlength') && clientForm.get('name').touched">
          Minimun 6 characters
        </mat-error>
        <mat-error class="has-error" *ngIf="clientForm.get('name').hasError('maxlength') && clientForm.get('name').touched">
          Maximun 30 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex>
        <mat-label> Last Name </mat-label>
        <input matInput formControlName="lastName" class="form-control" mdbInputDirective>
        <mat-error *ngIf="clientForm.get('lastName').hasError('required') && clientForm.get('lastName').touched">
          Please provide a last name
        </mat-error>
        <mat-error *ngIf="clientForm.get('lastName').hasError('minlength') && clientForm.get('lastName').touched">
          Minimun 6 characters
        </mat-error>
        <mat-error *ngIf="clientForm.get('lastName').hasError('maxlength') && clientForm.get('lastName').touched">
          Maximun 30 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex>
        <mat-label> Email </mat-label>
        <input matInput type="email" formControlName="email" class="form-control" mdbInputDirective>
        <mat-error *ngIf="clientForm.get('email').hasError('email') && clientForm.get('email').touched">
          Please provide a valid email
        </mat-error>
        <mat-error *ngIf="clientForm.get('email').hasError('required') && clientForm.get('email').touched">
          Please provide an email
        </mat-error>
        <mat-error *ngIf="clientForm.get('email').hasError('minlength') && clientForm.get('email').touched">
          Minimun 6 characters
        </mat-error>
        <mat-error *ngIf="clientForm.get('email').hasError('maxlength') && clientForm.get('email').touched">
          Maximun 30 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex>
        <mat-label> Status </mat-label>
        <mat-select formControlName="status">
          <mat-option *ngFor="let status of clientStatus" [value]="status">
            {{ status }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="clientForm.get('status').hasError('required') && clientForm.get('status').touched">
          Please provide an status
        </mat-error>
        <mat-error *ngIf="clientForm.get('status').hasError('minlength') && clientForm.get('status').touched">
          Minimun 6 characters
        </mat-error>
        <mat-error *ngIf="clientForm.get('status').hasError('maxlength') && clientForm.get('status').touched">
          Maximun 12 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex>
        <mat-label> Creation Date and Time </mat-label>
        <input matInput formControlName="date" [matDatetimepicker]="picker" class="form-control" mdbInputDirective>
        <mat-datetimepicker-toggle matSuffix [for]="picker"></mat-datetimepicker-toggle>
        <mat-datetimepicker type="datetime" #picker></mat-datetimepicker>
        <mat-error *ngIf="clientForm.get('date').hasError('required') && clientForm.get('date').touched">
          Please provide a date
        </mat-error>
        <mat-error *ngIf="clientForm.get('date').hasError('minlength') && clientForm.get('date').touched">
          Minimun 6 characters
        </mat-error>
        <mat-error *ngIf="clientForm.get('date').hasError('maxlength') && clientForm.get('date').touched">
          Maximun 12 characters
        </mat-error>
      </mat-form-field>

      <div fxFlex>
        <app-notes-creation [(notes)]="notes"></app-notes-creation>
      </div>

      <mat-error *ngIf="error">
        {{error}}
      </mat-error>
    </div>
  </form>
</mat-dialog-content>

<mat-dialog-actions>
  <button class="mat-raised-button mat-primary" (click)="save(clientForm)">Save</button>
  <button *ngIf="canDelete" class="mat-raised-button mat-primary" (click)="delete()">Delete</button>
  <button class="mat-raised-button" (click)="close()">Close</button>
</mat-dialog-actions>